namespace ParsMedeQ.Application.Features.{{ClassName}}Features.Create{{ClassName}}Feature;

public sealed record class Create{{ClassName}}Command({{ for prop in Props }}{{ prop.DataType }} {{ prop.Name }}, {{ end }})
    : IPrimitiveResultCommand<Create{{ClassName}}CommandResponse>, IValidatableRequest<Create{{ClassName}}Command>
{
    public ValueTask<PrimitiveResult<Create{{ClassName}}Command>> Validate() => PrimitiveResult.Success(this)
            .Ensure([
                value => PrimitiveResult.Success(this.{{FirstPropName}})
                .Match(
                    _ => PrimitiveResult.Success(),
                    _ => PrimitiveResult.Failure("Validation.Error", "{{FirstPropName}} ارسالی نامعتبر است"))
                ]);
}
