<div class="clip-detail container" *ngIf="clip; else loadingTpl">
  <div class="breadcrumb">
    <button mat-button (click)="router.navigate(['/clips'])">&larr; بازگشت به کلیپ‌ها</button>
  </div>

  <header class="hero" [style.backgroundImage]="'url(' + clip.thumbnail + ')'">
    <div class="overlay"></div>
    <div class="hero-body fade-in">
      <div class="meta">
        <span class="cat">{{ clip.category }}</span>
        <span class="date">{{ getDate(clip.publishDate) }}</span>
      </div>
      <h1 class="title">{{ clip.title }}</h1>
      <p class="short">{{ clip.description }}</p>
      <div class="hero-actions">
        <button mat-raised-button color="primary" (click)="openPlayer()">پخش ویدیو</button>
      </div>
    </div>
  </header>

  <main class="content fade-in">
    <section class="desc">
      <h3>توضیحات</h3>
      <p [innerHTML]="clip.description"></p>
      <div class="tags" *ngIf="clip.tags?.length">
        <span class="tag" *ngFor="let t of clip.tags">#{{ t }}</span>
      </div>
    </section>

    <section class="related" *ngIf="clip.related?.length">
      <h3>کلیپ‌های مرتبط</h3>
      <div class="rel-grid">
        <article class="rel-card" *ngFor="let r of clip.related" (click)="goToClip(r)">
          <img [src]="r.thumbnail" alt="{{ r.title }}">
          <div class="rmeta">
            <h4>{{ r.title }}</h4>
            <p class="rdate">{{ getDate(r.publishDate) }}</p>
          </div>
        </article>
      </div>
    </section>
  </main>
</div>

<ng-template #loadingTpl>
  <div class="loading container">در حال بارگذاری...</div>
</ng-template>
