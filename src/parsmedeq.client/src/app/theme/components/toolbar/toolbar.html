<mat-toolbar id="top-toolbar" class="top-toolbar d-none0">
  <div class="theme-container " fxLayout="row" fxLayoutAlign="space-between center">
    <div class="mr-2">
      <span class="font-large fw-600" ngClass.xs="font-sm fw-600">{{ 'SLOGAN' | translate }}</span>
    </div>
    <div fxLayout="row" fxLayoutAlign="start center">
      <app-social-icons fxLayout="row" fxLayoutAlign="start center" fxShow="false" fxShow.gt-md></app-social-icons>
      <div fxLayout="row" fxLayoutAlign="start center" class="px-2">
        <mat-icon color="primary" fxShow.lt-sm="false">call</mat-icon>
        <div class="px-1">
          <a href="tel:{{settings.tel}}" class="not-link">{{ settings.tel.replace('021', '') }}</a>
        </div>
      </div>
      <div fxLayout="row" fxLayoutAlign="start center" fxShow="false" fxShow.gt-xs>
        <mat-icon color="primary">mail</mat-icon>
        <div class="px-1">
          <a href="mailto:{{settings.email}}" class="not-link">{{ settings.email }}</a>
        </div>
      </div>
    </div>
    <div></div>
    <div fxLayout="row" fxLayoutAlign="end center" class="right-section" ngClass.xs="w-100">
      <!--<a [routerLink]="['/search' | langPack]" mat-icon-button matTooltip="{{'SEARCH' | translate}}"
         class="shop ml-1">
        <mat-icon>
          search
        </mat-icon>
      </a>-->
      <!--*************-->
      @if (!authService.isLoggedIn()) {
        <a [routerLink]="['/auth/login' | langPack]" class="background-color not-link">
          {{ 'LOGIN' | translate }}
        </a>
      } @else {
        <app-user-menu></app-user-menu>
      }
      @if (appSettings.settings.selectLang) {
        <app-lang></app-lang>
      }

      <div class="cart-dropdown">
        <button class="cart-btn">
          🛒({{ totalItems }})
        </button>
        <div class="cart-menu">
          <ng-container *ngIf="cartItems.length > 0; else empty">
            <div *ngFor="let item of cartItems" class="cart-item"
                 [ngClass]="{'reduced': (item.delta ?? 0) < 0, 'removed': item.quantity === 0}">
              <span>{{ item.productName }}</span>
              <span>تعداد: {{ item.quantity }}</span>
              <span>{{ item.unitPrice * item.quantity | number }} تومان</span>
              <span *ngIf="(item.delta ?? 0) < 0" class="icon-warning">⚠️</span>
              <button (click)="removeItem(item.id ?? 0)">❌</button>
            </div>
            <div class="checkout">
              <a routerLink="/checkout">رفتن به پرداخت</a>
            </div>
          </ng-container>
          <ng-template #empty>
            <div class="empty-cart">سبد خرید شما خالی است</div>
          </ng-template>
        </div>
      </div>


      <button mat-button class="menu" fxHide="false" fxHide.gt-sm (click)="sidenavToggle()">
        <mat-icon>menu</mat-icon>
      </button>
    </div>
  </div>
</mat-toolbar>
<mat-toolbar id="main-toolbar" class="mat-elevation-z2" color="accent">
  <div class="theme-container0 w-100">
    <app-header></app-header>
  </div>
</mat-toolbar>
